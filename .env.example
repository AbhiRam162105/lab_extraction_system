# =============================================================================
# Lab Report Extraction System - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# All values here will override defaults in config/settings.yaml

# -----------------------------------------------------------------------------
# Gemini API Configuration (REQUIRED)
# -----------------------------------------------------------------------------
GEMINI__API_KEY=your_gemini_api_key_here
GEMINI__MODEL= gemma-3-12b-it
GEMINI__RATE_LIMIT=15

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS__URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL for Docker, SQLite for local dev)
# -----------------------------------------------------------------------------
# For Docker (production):
DATABASE__URL=postgresql://postgres:${DB_PASSWORD:-labextract2024}@postgres:5432/lab_extraction
DB_PASSWORD=labextract2024

# For local development (uncomment this and comment above):
# DATABASE__URL=sqlite:///./lab_extraction.db

# -----------------------------------------------------------------------------
# Processing Configuration
# -----------------------------------------------------------------------------
PROCESSING__MAX_RETRIES=3
PROCESSING__TIMEOUT=300
PROCESSING__BATCH_SIZE=15
PROCESSING__MAX_CONCURRENT_WORKERS=32
PROCESSING__ENABLE_CACHING=true
PROCESSING__CACHE_TTL_HOURS=24

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMITING__REQUESTS_PER_MINUTE=15
RATE_LIMITING__ADAPTIVE_BACKOFF=true
RATE_LIMITING__BACKOFF_FACTOR=0.8
RATE_LIMITING__RECOVERY_THRESHOLD=10

# -----------------------------------------------------------------------------
# Preprocessing
# -----------------------------------------------------------------------------
PREPROCESSING__PARALLEL_WORKERS=8
PREPROCESSING__QUALITY_THRESHOLD=100
PREPROCESSING__MAX_DIMENSION=2048
PREPROCESSING__JPEG_QUALITY=85

# -----------------------------------------------------------------------------
# Standardization
# -----------------------------------------------------------------------------
STANDARDIZATION__FUZZY_THRESHOLD=0.85
STANDARDIZATION__LLM_FALLBACK=true

# -----------------------------------------------------------------------------
# Storage
# -----------------------------------------------------------------------------
STORAGE__BASE_PATH=storage
STORAGE__BUCKET=lab-reports

# -----------------------------------------------------------------------------
# Frontend API URL
# -----------------------------------------------------------------------------
# For local development:
API_URL=http://localhost:6000/api/v1
# For Docker (uncomment when using docker-compose):
# API_URL=http://backend:6000/api/v1
